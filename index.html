<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Better D3 Charts with TDD</title>

		<meta name="description" content="Talk about D3 best practices">
		<meta name="author" content="Marcos Iglesias">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/solarized.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
        <style type="text/css">
            .reveal {
                font-family: 'Roboto Slab', serif;
            }
            .reveal h2 {
                text-transform: none;
            }
            .reveal ul li {
                line-height: 1.5;
                margin-bottom: 5px;
            }
            .reveal img {
                border: none !important;
                box-shadow: none !important;
            }
            .reveal pre {
                width: 95%;
                font-size: 0.6em;
            }
            .reveal pre code {
                padding: 20px;
            }
        </style>
        <link href='http://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

        <div class="reveal">
            <div class="slides">

                <!-- Opening -->
                <section>
                    <h2>Better D3 Charts with TDD</h2>
                    <div>
                        <img width="252" height="236" data-src="img/d3js.png" alt="D3 Logo">
                    </div>
                    <ul>
                        <li>Slides: <a href="http://golodhros.github.io/">http://golodhros.github.io/</a></li>
                        <li>Code: <a href="https://github.com/Golodhros/d3-meetup">https://github.com/Golodhros/d3-meetup</a></li>
                    </ul>
                    <aside class="notes">
                        <ul>
                            <li>Hi! Firstly, I want to thank Robert and Ian, for bringing me tonight and to Galvanize for hosting.</li>
                            <li>Thank you guys for coming and thanks for caring about improving your D3 skills and code (quality).</li>
                            <li>I used to start a new D3 chart by taking an example as a jumping-off point. I could modify it, plug in new data and I would have something that worked. However, this (way of coding) comes with a bunch of problems, especially those related to the reusability^, extendability^, simplicity^ and general quality~ of that code.</li>
                            <li>It is a fact that software always changes, so how do we prepare for change?</li>
                            <li>In this talk, I will show you how to make your D3 charts easier to create and easier to maintain. We’ll do this with Test Driven Development and the Reusable Chart API, which is a way of componetize D3 code.</li>
                            <li>At the end of this talk, you should be able to test your D3 code. And for that I will give you some tools and share some ideas about how to get started.</li>
                            <li>But first, some words about me.</li>
                        </ul>
                    </aside>
                </section>

                <!-- Bio -->
                <section>
                    <section>
                        <h2>Marcos Iglesias</h2>
                        <div style="padding-bottom: 40px;">
                            <img data-src="img/eventbrite-logo.png" width="50%" alt="Eventbrite Logo">
                        </div>
                        <aside class="notes">
                            <ul>
                                <li>My name is Marcos</li>
                                <li>Software Engineer at Eventbrite</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <h2>El Bierzo</h2>
                        <div style="padding-bottom: 40px;">
                            <img width="484" height="392" data-src="img/el-bierzo.jpg" alt="El Bierzo">
                        </div>
                        <aside class="notes">
                            <ul>
                                <li>I am Spanish, from a beautiful region called El Bierzo</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <h2>Online</h2>
                        <ul>
                            <li><a target="_blank" href="http://www.marcosiglesias.com/posts">Personal Blog</a></li>
                            <li><a target="_blank" href="http://www.eventbrite.com/engineering/">Eventbrite Engineering Blog</a></li>
                            <li><a target="_blank" href="https://twitter.com/golodhros">@golodhros</a></li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <li>I write a bit on my personal blog and EB's engineering blog</li>
                                <li>You can find me on twitter, here's my unpronunciable handler</li>
                                <li>T: Check out my account, where I share interesting articles and resources about data visualization, d3 and front end technologies in general.</li>
                            </ul>
                        </aside>
                    </section>
                </section>

                <!-- Level Poll + Next up -->
                <section>
                    <h2>Next up</h2>
                    <ul>
                        <li class="fragment">Presentation</li>
                        <li class="fragment">Live coding</li>
                        <li class="fragment">Q&A</li>
                    </ul>
                    <aside class="notes">
                        <ul>
                            <li>I will talk for about 30 min;</li>
                            <li>then we will do some hands down coding, you will help me.</li>
                            <li>Q&A at the end</li>
                            <li>[Poll]</li>
                            <li>who knows what the reusable chart API is?</li>
                            <li>who does not know what D3 is?</li>
                            <li>I am assuming certain level of knowledge on the library.</li>
                            <li>I will NOT try to explain the Enter/Update/Exit pattern. There is a lot of resources that do it much better than me!</li>
                            <li>T: I want it to be more about workflow and decisions when implementing than technical about D3.</li>
                            <li>T: Added links on slides about the most common patterns in d3 development.</li>
                        </ul>
                    </aside>
                </section>

                <!-- Disclaimer -->
                <section>
                    <img src="img/developingad3edge.jpg" style="width: 50%;">
                    <aside class="notes">
                        <ul>
                            <li>A small disclaimer</li>
                            <li>I haven't invented any of the techniques I will be talking about today</li>
                            <li>The examples and the code that I’ll show evolved from this book, Developing a D3.js Edge, a lovely little book that I recommend to everyone interested in improving their D3 skills.</li>
                            <li>T: I think they are worth sharing, because I felt the pain, and now I work in a more pleasant way.</li>
                        </ul>
                    </aside>
                </section>

                <!-- D3 -->
                <section>
                    <section>
                        <img width="252" height="236" data-src="img/d3js.png" alt="D3 Logo">
                    </section>

                    <!-- D3 intro -->
                    <section>
                        <h2>D3 introduction</h2>
                        <ul>
                            <li class="fragment">Data-Driven Documents</li>
                            <li class="fragment">JavaScript library to manipulate data based documents</li>
                            <li class="fragment">Open web standards (SVG, HTML and CSS)</li>
                            <li class="fragment">Allows interactions with your graphs</li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <li>D3 stands for data-driven documents. It is a JS library with a huge API and focused on mathematical transformations of data.</li>
                                <li>It is based on web standards as SVG, HTML and CSS, and one of it’s strong points is its integration of animations and user interaction capabilities.</li>
                                <li>One of it’s more celebrated features is it’s seamless integration of animations and the way it allows us to create engaging interactions.</li>
                                <li>D3 is a Front End toolbox for creating interactive visualization, but it is not a charting library. So if you are looking for a package that gives you a bunch of ready made charts, d3 by itself won’t help you, but you could choose among several projects based on d3.</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- How does it work? -->
                    <section>
                        <h2>How does it work?</h2>
                        <ul>
                            <li class="fragment">Loads data</li>
                            <li class="fragment">Binds data to elements</li>
                            <li class="fragment">Transforms those elements</li>
                            <li class="fragment">Transitions between states</li>
                            <li class="fragment"><a target="_blank" href="http://www.nytimes.com/interactive/2012/02/13/us/politics/2013-budget-proposal-graphic.html?_r=0">Example</a></li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <li>D3 loads data and attaches it to the DOM. Then, it binds that data to DOM elements and transforms those elements, transitioning among states if necessary. Example.</li>
                                <li>The bubbles represent a data entry. The transformation I refer is the size and color of the bubble, so the bigger the bubble, the higher the quantity; the greener the value, the higher the rise against previous year. Smart, isn’t it?</li>
                                <li>That’s not all, as we can click on one of the buttons and it changes the focus of the visualization, using the same data but showing another point of view. Check out the animations, they are kind of “automatic”. Magic!</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Niceties -->
                    <section>
                        <h2>D3 Niceties</h2>
                        <ul>
                            <li class="fragment">Based on attaching data to the DOM</li>
                            <li class="fragment">Styling of elements with CSS</li>
                            <li class="fragment">Transitions and animations baked in</li>
                            <li class="fragment">Total control over our graphs</li>
                            <li class="fragment">Amazing community</li>
                            <li class="fragment">Decent amount of publications</li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <li>Same tools as FE development</li>
                                <li>Perfect toolbox for interactive data visualizations</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Pain Points -->
                    <section>
                        <h2>Pain points</h2>
                        <ul>
                            <li class="fragment">Enter, update and exit pattern</li>
                            <li class="fragment">Chaining code style</li>
                            <li class="fragment">Margins and dimensions</li>
                            <li class="fragment">Tooltip creation</li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <li>jQuery like</li>
                                <li>All data viz needs work on the data side</li>
                                <li>The community and Bostock has develop patterns</li>
                            </ul>
                        </aside>
                    </section>
                </section>

                <!-- What can you do with D3? -->
                <section>
                    <section>
                        <h1>What can you do with D3?</h1>
                        <aside class="notes">
                            <ul>
                                <li>Let's talk about its uses</li>
                                <li>Lots of possibilities</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Applications -->
                    <section>
                        <h2>Bar charts</h2>
                        <img data-src="img/barchart_Fotor.jpg" alt="Bar Chart">
                        <aside class="notes">
                            <ul>
                                <li>All kind of business charts</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h2>Pie charts</h2>
                        <img data-src="img/chart/piechart.png" width="50%" alt="Pie Chart">
                    </section>

                    <section>
                        <h2>Bubble charts</h2>
                        <a target="_blank" href="http://bl.ocks.org/mbostock/4063530"><img data-src="img/bubble.png" alt="Bubble Chart" style="width: 60%;"></a>
                    </section>

                    <section>
                        <h2>Choropleth</h2>
                        <a target="_blank" href="http://bl.ocks.org/mbostock/4060606"><img src="img/choropleth.png" alt="" style="width: 80%;"></a>
                    </section>

                    <section>
                        <h2>Map projections</h2>
                        <a target="_blank" href="http://mbostock.github.io/d3/talk/20111018/azimuthal.html"><img src="img/azimuthal_Fotor.jpg" alt="" style="width: 80%;"></a>
                        <aside class="notes">
                            <ul>
                                <li>All kind of maps</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h2>Dashboards</h2>
                        <a target="_blank" href="http://coenraets.org/apps/olympic-d3/#dashboard/3"><img src="img/dashboard.png"  style="width: 60%;"></a>
                    </section>

                    <section>
                        <h2>Algorithm visualization</h2>
                        <a target="_blank" href="http://bl.ocks.org/mbostock/1044242"><img src="img/edge-bundling.png" alt="Hierarchical Edge Bundling" style="width: 60%;"></a>
                    </section>

                    <section>
                        <h2>Artistic visualizations</h2>
                        <a target="_blank" href="http://alanahryding.me/blog/?p=618"><img data-src="img/d3_javascript_death2.png" alt="Pie Chart"></a>
                    </section>

                    <section>
                        <h2>Interactive infographics</h2>
                        <a target="_blank" href="http://www.nytimes.com/interactive/2012/02/13/us/politics/2013-budget-proposal-graphic.html?_r=0"><img src="img/budget.png" alt="Obama Budget Proposal" style="width: 80%;"></a>
                    </section>
                </section>

                <!-- Story -->
                <section>
                    <section>
                        <h1>Contracting story</h1>
                        <aside class="notes">
                            <ul>
                                <li>I was contracting for a company that had a Sass product based on data analysis</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <img data-src="img/chart/bump.png" alt="Bump Chart">
                        <aside class="notes">
                            <ul>
                                <li>the marketing guy saw this nice chart, a bump chart for a marketing page</li>
                                <li>I followed my usual workflow and had something ready pretty quickly</li>
                            </ul>
                        </aside>
                    </section>
                    <!-- Story: he loved it -->
                    <section>
                        <h1>He loved it!</h1>
                    </section>
                </section>

                <!-- Usual workflow -->
                <section>
                    <section>
                        <h1>Usual workflow</h1>
                    </section>

                    <!-- Idea or Requirement -->
                    <section>
                        <img data-src="img/fun/idea.png" alt="Idea">
                    </section>

                    <!-- Search for an Example -->
                    <section>
                        <h2>Search for an example</h2>
                        <img data-src="img/example-step.png" height="220" width="703" alt="Idea">
                    </section>

                    <!-- Adapt Code -->
                    <section>
                        <h1>Read and adapt code</h1>
                    </section>

                    <!-- Add Features -->
                    <section>
                        <h1>Add/remove features</h1>
                    </section>

                    <!-- Polish -->
                    <section>
                        <h2>Polish it up</h2>
                        <img data-src="img/fun/wax-on.jpg" alt="Wax on, Wax off">
                    </section>

                    <!-- It's a Good plan -->
                    <section>
                        <h2>Usual workflow</h2>
                        <ul>
                            <li class="">Idea or requirement</li>
                            <li class="">Search for an example</li>
                            <li class="">Adapt the code</li>
                            <li class="">Add/remove features</li>
                            <li class="">Polish it up</li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <li>Looks like a good plan, right?</li>
                                <li>The problem is the code, as it is written in the standard way.</li>
                            </ul>
                        </aside>
                    </section>
                </section>

                <!-- The Standard Way -->
                <section>
                    <section>
                        <h1>The standard way</h1>
                        <aside class="notes">
                            <ul>
                                <li>Illustrate how that usual workflow generates code-wise with a different chart</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Example -->
                    <section>
                        <h2>Code example</h2>
                        <a href="http://bost.ocks.org/mike/bar/"><img data-src="img/lets-make-a-bar-chart.png" alt=""></a>
                        <small><a target="_blank" href="http://bl.ocks.org/mbostock/3885304">Bar chart example</a> by Mike Bostock</small>
                        <aside class="notes">
                            <ul>
                                <li>Simplest example, some of us wrote our first D3 lines with this post series</li>
                                <li>Although there is not a lot of code, there is actually a lot of stuff happening here.</li>
                                <li>Still, can easily become spaguetti code</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Code Analysis of the example -->
                    <!-- Creating Container -->
                    <section>
                        <h2>Creating container</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                            var margin = {top: 20, right: 20, bottom: 30, left: 40},
                                width = 960 - margin.left - margin.right,
                                height = 500 - margin.top - margin.bottom;

                            var svg = d3.select("body").append("svg")
                                .attr("width", width + margin.left + margin.right)
                                .attr("height", height + margin.top + margin.bottom)
                              .append("g")
                                .attr("transform",
                                    "translate(" + margin.left + "," + margin.top + ")");
                        </code></pre>
                        <small>Reference: <a target="_blank" href="http://bl.ocks.org/mbostock/3019563">Margin Convention</a></small>
                        <aside class="notes">
                            <ul>
                                <li>Mike Bostock Convention</li>
                                <li>A bit messy, but only once per graph and with this pattern</li>
                                <li>Before discovering this pattern, moving stuff was hard</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Setting up Scales and Axes -->
                    <section>
                        <h2>Setting up scales and axes</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                var x = d3.scale.ordinal()
                                    .rangeRoundBands([0, width], .1);

                                var y = d3.scale.linear()
                                    .range([height, 0]);

                                var xAxis = d3.svg.axis()
                                    .scale(x)
                                    .orient("bottom");

                                var yAxis = d3.svg.axis()
                                    .scale(y)
                                    .orient("left")
                                    .ticks(10, "%");
                        </code></pre>
                        <aside class="notes">
                            <ul>
                                <li>Basic scales refereced by the axis</li>
                                <li>Scales are functions that glue data and pixels</li>
                                <li>Axis are visual representations of those scales</li>
                                <li>T: A bit tricky sometimes</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Loading Data -->
                    <section>
                        <h2>Loading data</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                d3.tsv("data.tsv", type, function(error, data) {
                                    // Chart Code
                                };

                                function type(d) {
                                  d.frequency = +d.frequency;
                                  return d;
                                }
                        </code></pre>
                        <aside class="notes">
                            <ul>
                                <li>Callback pattern</li>
                                <li>Our cleaning function just coerces the values to be a number with this JS hack</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Drawing Axes -->
                    <section>
                        <h2>Drawing axes</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                x.domain(data.map(function(d) { return d.letter; }));
                                y.domain([0, d3.max(data, function(d) { return d.frequency; })]);

                                svg.append("g")
                                    .attr("class", "x axis")
                                    .attr("transform", "translate(0," + height + ")")
                                    .call(xAxis);

                                svg.append("g")
                                    .attr("class", "y axis")
                                    .call(yAxis)
                                  .append("text")
                                    .attr("transform", "rotate(-90)")
                                    .attr("y", 6)
                                    .attr("dy", ".71em")
                                    .style("text-anchor", "end")
                                    .text("Frequency");
                        </code></pre>
                        <aside class="notes">
                            <ul>
                                <li>He ends setting up the scales</li>
                                <li>Draws the x and y, rotating and labeling the latter</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Drawing Chart Bars  -->
                    <section>
                        <h2>Drawing bars</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                svg.selectAll(".bar")
                                    .data(data)
                                  .enter().append("rect")
                                    .attr("class", "bar")
                                    .attr("x", function(d) { return x(d.letter); })
                                    .attr("width", x.rangeBand())
                                    .attr("y", function(d) { return y(d.frequency); })
                                    .attr("height", function(d) { return height - y(d.frequency); });
                        </code></pre>
                        <aside class="notes">
                            <ul>
                                <li>Here we see the Enter, Update, Exit</li>
                                <li>We are repeating all that comes after enter() for each data entry on our data array</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Output -->
                    <section>
                        <h2>Output</h2>
                        <img src="img/mbBarChart_Fotor.jpg" height="493" width="945" alt="">
                        <aside class="notes">
                            <ul>
                                <li>So, now we have a bar chart that works right?</li>
                                <li>Well… it’s true, it works, and probably you could copy this code, modify it a bit and use it somewhere in your website.</li>
                                <li>But being serious, who thinks this is good quality code?</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Drawbacks -->
                    <section>
                        <h2>Standard D3: drawbacks</h2>
                        <ul>
                            <li class="fragment">Monolithic functions</li>
                            <li class="fragment">Chained method calls</li>
                            <li class="fragment">Hard to change code</li>
                            <li class="fragment">Impossible to reuse</li>
                            <li class="fragment">Fragile</li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <li>that you need to read from top to bottom to know what is doing</li>
                                <li>creating a compact code that is not really flexible.</li>
                                <li>Basically you would need to change hardcoded values.</li>
                                <li>Reuse is copy/paste, not DRY</li>
                                <li>Won’t know if it works after modifying any line of code</li>
                            </ul>
                        </aside>
                    </section>
                </section>

                <!-- Story continues -> Refactoring -->
                <section>
                    <section>
                        <h1>Story continues...</h1>
                        <aside class="notes">
                            <ul>
                                <li>Remember we have a bump chart, and he loved it</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <img data-src="img/chart/bump.png" alt="Bump Chart">
                        <aside class="notes">
                            <ul>
                                <li>But you know, it was a marketing guy...</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <h2>Marketing guy: What if we change this thing here...</h2>
                        <aside class="notes">
                            <ul>
                                <li>We will need to refactor, but this refactor is...</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <img data-src="img/fun/refactoring-cat.gif" alt="">
                        <aside class="notes">
                            <ul>
                                <li>We are changing things, not refactoring</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <img data-src="img/fun/magic-number.jpg" alt="">
                    </section>
                    <section>
                        <img data-src="img/fun/bug.jpg" width="400" alt="">
                    </section>
                    <section>
                        <h2>Done!</h2>
                    </section>
                    <section>
                        <h2>M-guy: nice, let’s change this other thing!</h2>
                    </section>
                    <section>
                        <img data-src="img/fun/keep-calm-and-refactor.png" alt="">
                    </section>
                    <section>
                        <img data-src="img/fun/bug.jpg" width="400" alt="">
                    </section>
                    <section>
                        <h2>Done!</h2>
                    </section>
                    <section>
                        <h2>M-guy: Great! I love it so much I want it on the product!</h2>
                        <aside class="notes">
                            <ul>
                                <li>Product is a big data analysis dashboard</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <h2>M-guy: So good you have it almost ready, right?</h2>
                    </section>
                    <section>
                        <img data-src="img/fun/keep-calm-and-refactor-again.png" width="400" alt="">
                    </section>
                    <section>
                        <img data-src="img/fun/bug.jpg" width="400" alt="">
                    </section>
                    <section>
                        <img data-src="img/fun/i-have-no-idea-what-im-doing.jpg" alt="">
                        <aside class="notes">
                            <ul>
                                <li>Dealing with some Impostor syndrome there...</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <img data-src="img/fun/bug.jpg" width="400" alt="">
                    </section>
                    <section>
                        <img data-src="img/fun/headdesk.png" alt="">
                    </section>
                    <section>
                        <h1>I was hating myself!</h1>
                    </section>
                    <section>
                        <h2>Possible outcomes</h2>
                        <ul>
                            <li class="fragment">You take it through</li>
                            <li class="fragment">You dump it and start all over again</li>
                            <li class="fragment">You pass refactoring</li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <li>Making it with a lot more effort than what it’s worth</li>
                                <li>Overcoming the sunken cost fallacy</li>
                                <li>First two are not really effective</li>
                                <li>This can end in a 450 lines of ‘render’ function</li>
                            </ul>
                        </aside>
                    </section>
                    <!-- Screenshot of Render Method -->
                    <section>
                        <div style="padding-bottom: 20px; overflow: auto; max-height: 450px;">
                            <img data-src="img/render-method.png" alt="">
                        </div>
                    </section>
                </section>

                <!-- Sentence -->
                <section>
                    <h2>What if you could work with graphs the same way you work with the rest of your code?</h2>
                    <aside class="notes">
                        <ul>
                            <li>Even more, imagine you can build a production ready graph by changing just a 25% of the code of your previous one.</li>
                        </ul>
                    </aside>
                </section>

                <!-- Reusable Chart API -->
                <section>
                    <section>
                        <h1>Reusable Chart API</h1>
                        <aside class="notes">
                            <ul>
                                <li>It is essentially a way of creating components for D3 charts.</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- jQuery VS MV* libraries -->
                    <section>
                        <h2>jQuery VS MV*</h2>
                        <aside class="notes">
                            <ul>
                                <li>It’s like jumping from namespace JS to using AMD modules or Common JS modules.</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Towards Reusable Charts -->
                    <section>
                        <a href="http://bost.ocks.org/mike/chart/"><img data-src="img/towards-reusable-charts.png" alt=""></a>
                        <aside class="notes">
                            <ul>
                                <li>The first example of this pattern was seen in Mike Bostock's seminal postTowards Reusable Charts, and it hasn’t changed a lot since then.</li>
                                <li>T: Well known, established technique. Libraries based in d3 like NVD3 uses it. I found it on Developing a D3.js edge and Mastering D3.</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Code -->
                    <section>
                        <h2>Reusable Chart API - code</h2>
                        <pre><code>
                                // @param  {D3Selection} _selection A d3 selection that represents
                                // the container(s) where the chart(s) will be rendered
                                function exports(_selection){

                                    // @param {object} _data The data to generate the chart
                                    _selection.each(function(_data){
                                        // Assigns private variables
                                        data = _data;

                                        // Builds chart
                                    });
                                }

                                // @param  {object} _x Margin object to get/set
                                // @return { margin | module} Current margin or Bar Chart module to chain calls
                                exports.margin = function(_x) {
                                    if (!arguments.length) {
                                        return margin;
                                    }
                                    margin = _x;
                                    return this;
                                };

                                return exports;
                        </code></pre>
                        <aside class="notes">
                            <ul>

                                <li>This piece of code returns a function that will accept a d3 selection as input.</li>
                                <li>Then it will extract the data of that selection to build a chart, using the selection as container.</li>
                                <li>T: It will also accept some configuration (the margin, in this case) that will be set beforehand.</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Use -->
                    <section>
                        <h2>Reusable Chart API - use</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                // Creates bar chart component and configures its margins
                                barChart = chart()
                                    .margin({top: 5, left: 10});

                                container = d3.select('.chart-container');

                                // Calls bar chart with the data-fed selector
                                container.datum(dataset).call(barChart);
                        </code></pre>
                        <aside class="notes">
                            <ul>
                                <li>This code would create an instance of a bar chart in the DOM element with class ‘chart-container'.</li>
                                <li>T: We could also create different instances of the same chart, and they could live together in the same page without any problems.</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Benefits -->
                    <section>
                        <h2>Reusable Chart API - benefits</h2>
                        <ul>
                            <li class="fragment">Modular</li>
                            <li class="fragment">Composable</li>
                            <li class="fragment">Configurable</li>
                            <li class="fragment">Consistent</li>
                            <li class="fragment">Teamwork Enabling</li>
                            <li class="fragment">Testable</li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <li>Modular: Change of mindset, from building charts to components. Pages -> Styleguides and component libraries.</li>
                                <li>Composable: You can build rich interactions from different blocks and controls.</li>
                                <li>Configurable: change look & feel or behaviour without changing the code, as we differientate the core of the graph from the configuration</li>
                                <li>Consistent: Following the same strategy we can reuse methods between charts. Create a library.</li>
                                <li>Teamwork enabling: Easy to grab for newbies and easy to share workload</li>
                                <li>Testable: The most important, no legacy code</li>
                            </ul>
                        </aside>
                    </section>
                </section>

                <!-- TDD Way -->
                <section>
                    <section>
                        <h1>The TDD way</h1>
                        <aside class="notes">
                            <ul>
                                <li>We have seen problems and a solution, the Reusable Chart API. As this solution allows us to test our charts, we are open to a new world of possibilities. Among them is to Test Driven our Charts.</li>
                                <li>Let's see how to do it</li>
                                <li>T: I will skip some steps</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Step by Step -->
                    <section>
                        <h2>The "before" block</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                containerFixture = d3.select('.test-container');
                                dataset = [
                                    {   letter: 'A',
                                        frequency: .08167
                                    },{
                                        letter: 'B',
                                        frequency: .01492
                                    },...
                                ];
                                barChart = demo.graphs.barChart();

                                containerFixture.datum(dataset).call(barChart);
                        </code></pre>
                        <aside class="notes">
                            <ul>
                                <li>letters and their frequency on English</li>
                                <li>instance of the chart</li>
                                <li>a DOM container</li>
                                <li>apply chart with data over the container</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Test: Basic Chart -->
                    <section>
                        <h2>Test: basic chart</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                it('should render a chart with minimal requirements', function(){
                                    expect(containerFixture.select('.bar-chart')).toBeDefined(1);
                                });
                        </code></pre>
                    </section>

                    <!-- Code: Basic Chart -->
                    <section>
                        <h2>Code: basic chart</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                demo.graphs.barChart = function module(){
                                    var margin = {top: 20, right: 20, bottom: 30, left: 40},
                                        width = 960, height = 500, svg;

                                    function exports(_selection){
                                        _selection.each(function(_data){
                                            var chartW = width - margin.left - margin.right,
                                                chartH = height - margin.top - margin.bottom;

                                            if (!svg) {
                                                svg = d3.select(this)
                                                    .append('svg')
                                                    .attr('class','bar-chart');
                                            }
                                        });
                                    };
                                    return exports;
                                }
                        </code></pre>
                        <p>Reference: <a href="http://bost.ocks.org/mike/chart/" target="_blank">Towards Reusable Charts</a></p>
                    </section>

                    <!-- Test: Containers -->
                    <section>
                        <h2>Test: containers</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                it('should render container, axis and chart groups', function(){
                                    expect(containerFixture.select('g.container-group')[0][0]).not.toBeNull();
                                    expect(containerFixture.select('g.chart-group')[0][0]).not.toBeNull();
                                    expect(containerFixture.select('g.x-axis-group')[0][0]).not.toBeNull();
                                    expect(containerFixture.select('g.y-axis-group')[0][0]).not.toBeNull();
                                });
                       </code></pre>
                    </section>

                    <!-- Code: Containers -->
                    <section>
                        <h2>Code: containers</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                function buildContainerGroups(){
                                    var container = svg.append("g").attr("class", "container-group");

                                    container.append("g").attr("class", "chart-group");
                                    container.append("g").attr("class", "x-axis-group axis");
                                    container.append("g").attr("class", "y-axis-group axis");
                                    container.append("g").attr("class", "pane-group");
                                    container.append("g").attr("class", "metadata-group");
                                }
                       </code></pre>
                    </section>

                    <!-- Test: Axis -->
                    <section>
                        <h2>Test: axis</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                it('should render an X and Y axis', function(){
                                    expect(containerFixture.select('.x.axis')[0][0]).not.toBeNull();
                                    expect(containerFixture.select('.y.axis')[0][0]).not.toBeNull();
                                });
                        </code></pre>
                    </section>

                    <!--  Code: Scales -->
                    <section>
                        <h2>Code: Scales</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                function buildScales(){
                                    xScale = d3.scale.ordinal()
                                        .domain(data.map(function(d) { return d.letter; }))
                                        .rangeRoundBands([0, chartW], .1);
                                    yScale = d3.scale.linear()
                                        .domain([0, d3.max(data, function(d) { return d.frequency; })])
                                        .range([chartH, 0]);
                                }
                        </code></pre>
                    </section>

                    <!-- Code: Axis -->
                    <section>
                        <h2>Code: axis</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                function buildAxis(){
                                    xAxis = d3.svg.axis()
                                        .scale(xScale)
                                        .orient("bottom");

                                    yAxis = d3.svg.axis()
                                        .scale(yScale)
                                        .orient("left")
                                        .ticks(10, "%");
                                }
                        </code></pre>
                    </section>

                    <!-- Code: Axis Drawing -->
                    <section>
                        <h2>Code: axis drawing</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                function drawAxis(){
                                    svg.select('.x-axis-group')
                                        .append("g")
                                        .attr("class", "x axis")
                                        .attr("transform", "translate(0," + chartH + ")")
                                        .call(xAxis);

                                    svg.select(".y-axis-group")
                                        .append("g")
                                        .attr("class", "y axis")
                                        .call(yAxis)
                                      .append("text")
                                        .attr("transform", "rotate(-90)")
                                        .attr("y", 6)
                                        .attr("dy", ".71em")
                                        .style("text-anchor", "end")
                                        .text("Frequency");
                                }
                        </code></pre>
                        <aside class="notes">
                            <ul>
                                <li>remember we first need the groups and svg</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Test: Bars Drawing -->
                    <section>
                        <h2>Test: bars drawing</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                it('should render a bar for each data entry', function(){
                                    var numBars = dataset.length;

                                    expect(containerFixture.selectAll('.bar')[0].length).toEqual(numBars);
                                });
                        </code></pre>
                    </section>

                    <!-- Code: Bars Drawing -->
                    <section>
                        <h2>Code: bars drawing</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                function drawBars(){
                                    // Setup the enter, exit and update of the actual bars in the chart.
                                    // Select the bars, and bind the data to the .bar elements.
                                    var bars = svg.select('.chart-group').selectAll(".bar")
                                        .data(data);

                                    // If there aren't any bars create them
                                    bars.enter().append('rect')
                                        .attr("class", "bar")
                                        .attr("x", function(d) { return xScale(d.letter); })
                                        .attr("width", xScale.rangeBand())
                                        .attr("y", function(d) { return yScale(d.frequency); })
                                        .attr("height", function(d) { return chartH - yScale(d.frequency); });
                                }
                        </code></pre>
                        <p>Reference: <a target="_blank" href="http://bost.ocks.org/mike/join/">Thinking with joins</a>, <a target="_blank" href="http://bl.ocks.org/mbostock/3808218">General Update Pattern</a></p>
                        <aside class="notes">
                            <ul>
                                <li>Data Join: new data with old elements</li>
                                <li>Enter: creates elements as needed</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Test: Margin Accessor -->
                    <section>
                        <h2>Test: margin accessor</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                it('should provide margin getter and setter', function(){
                                    var defaultMargin = barChart.margin(),
                                        testMargin = {top: 4, right: 4, bottom: 4, left: 4},
                                        newMargin;

                                    barChart.margin(testMargin);
                                    newMargin = barChart.margin();

                                    expect(defaultMargin).not.toBe(testMargin);
                                    expect(newMargin).toBe(testMargin);
                                });
                        </code></pre>
                    </section>

                    <!-- Code: Margin Accessor -->
                    <section>
                        <h2>Code: Margin Accessor</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                exports.margin = function(_x) {
                                    if (!arguments.length) return margin;
                                    margin = _x;
                                    return this;
                                };
                        </code></pre>
                    </section>

                    <!-- Output -->
                    <section>
                        <h2>Looks the same, but is not</h2>
                        <img src="img/mbBarChart_Fotor.jpg" height="493" width="945" alt="">
                    </section>

                    <!-- Before and After -->
                    <!-- Final Code: Standard Way -->
                    <section>
                        <h2>Final code: standard way</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                var margin = {top: 20, right: 20, bottom: 30, left: 40},
                                    width = 960 - margin.left - margin.right,
                                    height = 500 - margin.top - margin.bottom;

                                var x = d3.scale.ordinal()
                                    .rangeRoundBands([0, width], .1);

                                var y = d3.scale.linear()
                                    .range([height, 0]);

                                var xAxis = d3.svg.axis()
                                    .scale(x)
                                    .orient("bottom");

                                var yAxis = d3.svg.axis()
                                    .scale(y)
                                    .orient("left")
                                    .ticks(10, "%");

                                var svg = d3.select("body").append("svg")
                                    .attr("width", width + margin.left + margin.right)
                                    .attr("height", height + margin.top + margin.bottom)
                                  .append("g")
                                    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

                                d3.tsv("data.tsv", type, function(error, data) {
                                  x.domain(data.map(function(d) { return d.letter; }));
                                  y.domain([0, d3.max(data, function(d) { return d.frequency; })]);

                                  svg.append("g")
                                      .attr("class", "x axis")
                                      .attr("transform", "translate(0," + height + ")")
                                      .call(xAxis);

                                  svg.append("g")
                                      .attr("class", "y axis")
                                      .call(yAxis)
                                    .append("text")
                                      .attr("transform", "rotate(-90)")
                                      .attr("y", 6)
                                      .attr("dy", ".71em")
                                      .style("text-anchor", "end")
                                      .text("Frequency");

                                  svg.selectAll(".bar")
                                      .data(data)
                                    .enter().append("rect")
                                      .attr("class", "bar")
                                      .attr("x", function(d) { return x(d.letter); })
                                      .attr("width", x.rangeBand())
                                      .attr("y", function(d) { return y(d.frequency); })
                                      .attr("height", function(d) { return height - y(d.frequency); });

                                });

                                function type(d) {
                                  d.frequency = +d.frequency;
                                  return d;
                                }
                        </code></pre>
                    </section>

                    <!-- Final Code: TDD Way -->
                    <section>
                        <h2>Final code: TDD way</h2>
                        <pre><code data-trim contenteditable class="javascript hljs">
                                demo.graphs.barChart = function module(){

                                    var margin = {top: 20, right: 20, bottom: 30, left: 40},
                                        width = 960, height = 500,
                                        data,
                                        chartW, chartH,
                                        xScale, yScale,
                                        xAxis, yAxis;

                                    var svg;

                                    function buildContainerGroups(){ ... }

                                    function buildScales(){ ... }

                                    function buildAxis(){ ... }

                                    function drawAxis(){ ... }

                                    function drawBars(){ ... }

                                    function exports(_selection){
                                        _selection.each(function(_data){
                                            chartW = width - margin.left - margin.right;
                                            chartH = height - margin.top - margin.bottom;
                                            data = _data;

                                            buildScales();
                                            buildAxis();

                                            if (!svg) {
                                                svg = d3.select(this)
                                                    .append('svg')
                                                    .attr('class', 'bar-chart');
                                            }
                                            svg.attr({
                                                width: width + margin.left + margin.right,
                                                height: height + margin.top + margin.bottom
                                            });

                                            buildContainerGroups();
                                            drawBars();
                                            drawAxis();
                                        });
                                    }

                                    exports.margin = function(_x) { ... };

                                    // More accessors to all configurable elements on graph

                                    return exports;
                                };
                        </code></pre>
                    </section>

                    <!-- TDD Benefits -->
                    <section>
                        <h2>TDD way - benefits</h2>
                        <ul>
                            <li class="fragment">Stress free refactors</li>
                            <li class="fragment">Goal oriented</li>
                            <li class="fragment">Deeper understanding</li>
                            <li class="fragment">Improved communication</li>
                            <li class="fragment">Quality, production ready output</li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <li>T: It’s hard to establish where the benefits of the Reusable Chart API end and where the TDD benefits start:</li>
                                <li>Nothing will stop you from trying some crazy things. Maybe your first approach was just a hack, you can improve it now!</li>
                                <li>Be more goal oriented as TDD forces you to first understand what you want to do</li>
                                <li>Learn about the D3 API.</li>
                                <li>Create a documentation that does not get outdated. Small and specific code that can be understood easily.</li>
                                <li>Charts will be a first-class citizen inside your repo.</li>
                            </ul>
                        </aside>
                    </section>
                </section>

                <!-- How to get started -->
                <section>
                    <section>
                        <h1>How to get started</h1>
                    </section>

                    <section>
                        <h2>Some ideas</h2>
                        <ul>
                            <li class="fragment">Test something that is in production</li>
                            <li class="fragment">TDD the last chart you built</li>
                            <li class="fragment">Pick a block, refactor it</li>
                            <li class="fragment">TDD your next chart</li>
                        </ul>
                        <aside class="notes">
                            <ul>
                                <li>Try to test something you have in production, just a bit</li>
                                <li>Check for the last easy chart you built, give it a read, and TDD it.</li>
                                <li>If you want to see something new, pick a block, refactor it into TDD</li>
                                <li>Write with the reusable API</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- Hands On -->
                    <section>
                        <h1>Repository walkthrough</h1>
                        <small><a target="_blank" href="https://github.com/Golodhros/d3-meetup">https://github.com/Golodhros/d3-meetup</a></small>
                        <aside class="notes">
                            <ul>
                                <li>Code repository, the basement for a chart library</li>
                                <li>Uses: Jasmine, Karma Runner</li>
                                <li>Structure, configuration files</li>
                                <li>Different branches</li>
                                <li>Run tests and Debugging</li>
                            </ul>
                        </aside>
                    </section>
                    <!-- Check code repository -->
                    <!-- Explain structure, configuration files, etc -->
                    <!-- Run tests and check them -->
                </section>

                <!-- Story continues -> The good way -->
                <section>
                    <section>
                        <h2>What happened with my contracting gig?</h2>
                    </section>
                    <section>
                        <h2>I used the Reusable Chart API</h2>
                        <aside class="notes">
                            <ul>
                                <li>It was a line chart of just one value</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <h2>Adding multiple dimensions?</h2>
                        <aside class="notes">
                            <ul>
                                <li>When they added a second and third dimensions to find correlations</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <h2>I had tests!</h2>
                        <aside class="notes">
                            <ul>
                                <li>My tests were there to back me up!</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <h2>Toogle dimensions, adding more y-axis?</h2>
                        <aside class="notes">
                            <ul>
                                <li>Taking the chart to a new level of complexity</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <img data-src="img/fun/chill-cat.jpg" height="447" width="600" alt="">
                        <aside class="notes">
                            <ul>
                                <li>I was pretty chill</li>
                            </ul>
                        </aside>
                    </section>
                </section>

                <!-- Conclusion -->
                <section>
                    <h2>Conclusions</h2>
                    <ul>
                        <li class="fragment">Examples are great for exploration and prototyping, bad for production code</li>
                        <li class="fragment">There is a better way of building D3 Charts</li>
                        <li class="fragment">Reusable Chart API + TDD bring it to a Pro level</li>
                        <li class="fragment">You can build your own library and feel proud!</li>
                    </ul>
                    <aside class="notes">
                        <ul>
                            <li>In this (talk), we have seen how the example-(based) approach to building D3 charts works on the short term, but in the mid and long term, it brings you pain and sorrow.</li>
                            <li>There is a better (way of building D3 charts). Using the Reusable API and a test driven approach will make your D3 charts easier to create and a LOT (easier to maintain).</li>
                            <li>I want to encourage you (guys) to go the extra mile, and whenever you build a chart, make it into a component.</li>
                            <li>Use the Reusable API! Test it! And build your very own chart library! This way, I assure you, you will be proud of your code again!</li>
                            <li>Thanks for listening and thanks for caring.</li>
                        </ul>
                    </aside>
                </section>

                <!-- Thanks -->
                <section>
                    <h2>Thanks for listening!</h2>
                    <ul>
                        <li>
                            Twitter: <a target="_blank" href="https://twitter.com/golodhros">@golodhros</a>
                        </li>
                        <li>
                            Check out <a target="_blank" href="http://www.marcosiglesias.com/posts">my Blog</a>
                        </li>
                        <li>
                            Slides: <a href="http://golodhros.github.io/">http://golodhros.github.io/</a>
                            </li>
                        <li>
                            Code: <a target="_blank" href="https://github.com/Golodhros/d3-meetup">https://github.com/Golodhros/d3-meetup</a>
                        </li>
                    </ul>
                    <aside class="notes">
                        <ul>
                            <li>Thanks for listening and thanks for caring!</li>
                            <li>And that's what I have for you guys today</li>
                        </ul>
                    </aside>
                </section>

                <!-- Poll: Next steps? -->
                <section>
                    <h2>Poll: next up</h2>
                    <ul>
                        <li>Building a new chart</li>
                        <li>Refactoring accessors</li>
                        <li>Refactoring Enter, Update, Exit</li>
                        <li>Add Events</li>
                        <li>Q&A</li>
                    </ul>
                </section>

                <!-- Q&A -->

                <!-- Learning and Resources -->
                <section>
                    <h2>Learning resources</h2>
                    <ul>
                        <li>
                            <a href="https://engineering.eventbrite.com/d3-js-resources-to-level-up/">D3.js Resources to Level Up</a>
                        </li>
                        <li>
                            <a target="_blank" href="https://www.dashingd3js.com/">Dashing D3 Newsletter</a>
                        </li>
                    </ul>
                </section>

                <!-- Example Search -->
                <section>
                    <h2>Example search</h2>
                    <ul>
                        <li>
                            Search by chart type -> <a target="_blank" href="http://christopheviau.com/d3list/gallery.html">Christophe Viau's Gallery</a>
                        </li>
                        <li>
                            Search by D3 component -> <a target="_blank" href="http://bl.ocksplorer.org/">Block Explorer</a>
                        </li>
                    </ul>
                </section>

                <!-- Books -->
    			<section>
    				<section>
    					<h2>Books</h2>
    				</section>

    				<section>
    					<img src="img/gettingStarted.jpg" style="width: 50%;">
    					<aside class="notes">
    						<ul>
    							<li>Super Fast introduction (<60 pg.) for web developers</li>
    							<li>Talks about: Enter Selections, Scales, Axes</li>
    							<li>Interactions and Transitions</li>
    							<li>Layouts</li>
    						</ul>
    					</aside>
    				</section>

    				<section>
    					<img src="img/interactivedatacover.jpg" style="width: 50%;">
    					<aside class="notes">
    						<ul>
    							<li>Intro Book for everyone</li>
    							<li>Starting from 0 and no experience on FE</li>
    							<li>GeoJSON and Maps</li>
    						</ul>
    					</aside>
    				</section>

    				<section>
    					<img src="img/developingad3edge.jpg" style="width: 50%;">
    					<aside class="notes">
    						<ul>
    							<li>Reusable charts in a way we could all use</li>
    							<li>Charts are simple and test friendly</li>
    							<li>You can create larger ones by composition</li>
    							<li>Introduces a data loader module</li>
    							<li>Proposes some tests with Jasmine</li>
    							<li>All in a small size</li>
    						</ul>
    					</aside>
    				</section>

    				<section>
    					<img src="img/MasteringD3.jpg" style="width: 50%;">
    					<aside class="notes">
    						<ul>
    							<li>Same Reusable charts</li>
    							<li>Ambitious book, almost a reference</li>
    							<li>Integrations: Backbone, Socket.IO, Mapbox.</li>
    							<li>Great number of different charts: Choropleth, Area, Advanced Maps</li>
    							<li>Bower Package using Grunt for build and Vows for testing</li>
    							<li>Less Importance to Tests, great book</li>
    						</ul>
    					</aside>
    				</section>
    			</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>
		<script src="js/d3.js"></script>
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-1581349-11', 'auto');
          ga('send', 'pageview');
        </script>

		<script>
			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});
		</script>

	</body>
</html>
